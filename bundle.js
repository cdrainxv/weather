!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!w[e]||!x[e])return;for(var n in x[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(f[n]=t[n]);0==--v&&0===y&&E()}(e,n),t&&t(e,n)};var n,i=!0,o="e0d6f175ac8e0ff6cb83",r=1e4,s={},a=[],c=[];function d(e){var t=O[e];if(!t)return _;var i=function(i){return t.hot.active?(O[i]?-1===O[i].parents.indexOf(e)&&O[i].parents.push(e):(a=[e],n=i),-1===t.children.indexOf(i)&&t.children.push(i)):(console.warn("[HMR] unexpected require("+i+") from disposed module "+e),a=[]),_(i)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return _[e]},set:function(t){_[e]=t}}};for(var r in _)Object.prototype.hasOwnProperty.call(_,r)&&"e"!==r&&"t"!==r&&Object.defineProperty(i,r,o(r));return i.e=function(e){return"ready"===h&&u("prepare"),y++,_.e(e).then(t,function(e){throw t(),e});function t(){y--,"prepare"===h&&(g[e]||M(e),0===y&&0===v&&E())}},i.t=function(e,t){return 1&t&&(e=i(e)),_.t(e,-2&t)},i}var l=[],h="idle";function u(e){h=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var p,f,m,v=0,y=0,g={},x={},w={};function b(e){return+e+""===e?+e:e}function L(e){if("idle"!==h)throw new Error("check() is only allowed in idle status");return i=e,u("check"),function(e){return e=e||1e4,new Promise(function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var i=new XMLHttpRequest,r=_.p+""+o+".hot-update.json";i.open("GET",r,!0),i.timeout=e,i.send(null)}catch(e){return n(e)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)n(new Error("Manifest request to "+r+" timed out."));else if(404===i.status)t();else if(200!==i.status&&304!==i.status)n(new Error("Manifest request to "+r+" failed."));else{try{var e=JSON.parse(i.responseText)}catch(e){return void n(e)}t(e)}}})}(r).then(function(e){if(!e)return u("idle"),null;x={},g={},w=e.c,m=e.h,u("prepare");var t=new Promise(function(e,t){p={resolve:e,reject:t}});f={};return M(0),"prepare"===h&&0===y&&0===v&&E(),t})}function M(e){w[e]?(x[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=_.p+""+e+"."+o+".hot-update.js",t.appendChild(n)}(e)):g[e]=!0}function E(){u("ready");var e=p;if(p=null,e)if(i)Promise.resolve().then(function(){return j(i)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in f)Object.prototype.hasOwnProperty.call(f,n)&&t.push(b(n));e.resolve(t)}}function j(t){if("ready"!==h)throw new Error("apply() is only allowed in ready status");var n,i,r,c,d;function l(e){for(var t=[e],n={},i=t.slice().map(function(e){return{chain:[e],id:e}});i.length>0;){var o=i.pop(),r=o.id,s=o.chain;if((c=O[r])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:r};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:r};for(var a=0;a<c.parents.length;a++){var d=c.parents[a],l=O[d];if(l){if(l.hot._declinedDependencies[r])return{type:"declined",chain:s.concat([d]),moduleId:r,parentId:d};-1===t.indexOf(d)&&(l.hot._acceptedDependencies[r]?(n[d]||(n[d]=[]),p(n[d],[r])):(delete n[d],t.push(d),i.push({chain:s.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];-1===e.indexOf(i)&&e.push(i)}}t=t||{};var v={},y=[],g={},x=function(){console.warn("[HMR] unexpected require("+M.moduleId+") to disposed module")};for(var L in f)if(Object.prototype.hasOwnProperty.call(f,L)){var M;d=b(L);var E=!1,j=!1,C=!1,D="";switch((M=f[L]?l(d):{type:"disposed",moduleId:L}).chain&&(D="\nUpdate propagation: "+M.chain.join(" -> ")),M.type){case"self-declined":t.onDeclined&&t.onDeclined(M),t.ignoreDeclined||(E=new Error("Aborted because of self decline: "+M.moduleId+D));break;case"declined":t.onDeclined&&t.onDeclined(M),t.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+M.moduleId+" in "+M.parentId+D));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(M),t.ignoreUnaccepted||(E=new Error("Aborted because "+d+" is not accepted"+D));break;case"accepted":t.onAccepted&&t.onAccepted(M),j=!0;break;case"disposed":t.onDisposed&&t.onDisposed(M),C=!0;break;default:throw new Error("Unexception type "+M.type)}if(E)return u("abort"),Promise.reject(E);if(j)for(d in g[d]=f[d],p(y,M.outdatedModules),M.outdatedDependencies)Object.prototype.hasOwnProperty.call(M.outdatedDependencies,d)&&(v[d]||(v[d]=[]),p(v[d],M.outdatedDependencies[d]));C&&(p(y,[M.moduleId]),g[d]=x)}var k,I=[];for(i=0;i<y.length;i++)d=y[i],O[d]&&O[d].hot._selfAccepted&&I.push({module:d,errorHandler:O[d].hot._selfAccepted});u("dispose"),Object.keys(w).forEach(function(e){!1===w[e]&&function(e){delete installedChunks[e]}(e)});for(var P,H,S=y.slice();S.length>0;)if(d=S.pop(),c=O[d]){var q={},$=c.hot._disposeHandlers;for(r=0;r<$.length;r++)(n=$[r])(q);for(s[d]=q,c.hot.active=!1,delete O[d],delete v[d],r=0;r<c.children.length;r++){var T=O[c.children[r]];T&&((k=T.parents.indexOf(d))>=0&&T.parents.splice(k,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(c=O[d]))for(H=v[d],r=0;r<H.length;r++)P=H[r],(k=c.children.indexOf(P))>=0&&c.children.splice(k,1);for(d in u("apply"),o=m,g)Object.prototype.hasOwnProperty.call(g,d)&&(e[d]=g[d]);var A=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(c=O[d])){H=v[d];var B=[];for(i=0;i<H.length;i++)if(P=H[i],n=c.hot._acceptedDependencies[P]){if(-1!==B.indexOf(n))continue;B.push(n)}for(i=0;i<B.length;i++){n=B[i];try{n(H)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:d,dependencyId:H[i],error:e}),t.ignoreErrored||A||(A=e)}}}for(i=0;i<I.length;i++){var R=I[i];d=R.module,a=[d];try{_(d)}catch(e){if("function"==typeof R.errorHandler)try{R.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:n,originalError:e}),t.ignoreErrored||A||(A=n),A||(A=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:d,error:e}),t.ignoreErrored||A||(A=e)}}return A?(u("fail"),Promise.reject(A)):(u("idle"),new Promise(function(e){e(y)}))}var O={};function _(t){if(O[t])return O[t].exports;var i=O[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)t._acceptedDependencies[e[i]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:L,apply:j,status:function(e){if(!e)return h;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:s[e]};return n=void 0,t}(t),parents:(c=a,a=[],c),children:[]};return e[t].call(i.exports,i,i.exports,d(t)),i.l=!0,i.exports}_.m=e,_.c=O,_.d=function(e,t,n){_.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(e,t){if(1&t&&(e=_(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(_.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)_.d(n,i,function(t){return e[t]}.bind(null,i));return n},_.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(t,"a",t),t},_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_.p="",_.h=function(){return o},d(1)(_.s=1)}([function(e,t,n){var i,o;window,void 0===(o="function"==typeof(i=function(){function e(t,n){this.element=t,this.options=function(e,t){var n={};for(var i in t)n[i]=i in e?e[i]:t[i];return n}(n||{},e.options),this.element.innerHTML="<canvas></canvas>",this.canvas=this.element.firstChild,this.context=this.canvas.getContext("2d"),this.ratio=window.devicePixelRatio||1,this.options.tooltip&&(this.canvas.style.position="relative",this.canvas.onmousemove=function(e){var t=e.offsetX||e.layerX||0,n=(this.options.width-2*this.options.dotRadius)/(this.points.length-1),i=function(e,t,n){return Math.max(e,Math.min(t,n))}(0,Math.round((t-this.options.dotRadius)/n),this.points.length-1);this.canvas.title=this.options.tooltip(this.points[i],i,this.points)}.bind(this))}function t(e,t,n,i,o){n&&(this.context.save(),this.context.strokeStyle=n.color||"black",this.context.lineWidth=(n.width||1)*this.ratio,this.context.globalAlpha=n.alpha||1,this.context.beginPath(),this.context.moveTo("right"!=n.direction?e:i,o),this.context.lineTo("left"!=n.direction?t:i,o),this.context.stroke(),this.context.restore())}return e.options={width:100,height:null,lineColor:"black",lineWidth:1.5,startColor:"transparent",endColor:"black",maxColor:"transparent",minColor:"transparent",minValue:null,maxValue:null,minMaxValue:null,maxMinValue:null,dotRadius:2.5,tooltip:null,fillBelow:!0,fillLighten:.5,startLine:!1,endLine:!1,minLine:!1,maxLine:!1,bottomLine:!1,topLine:!1,averageLine:!1},e.init=function(t,n){return new e(t,n)},e.draw=function(t,n,i){var o=new e(t,i);return o.draw(n),o},e.prototype.draw=function(e){e=e||[],this.points=e,this.canvas.width=this.options.width*this.ratio,this.canvas.style.width=this.options.width+"px";var n=this.options.height||this.element.offsetHeight;this.canvas.height=n*this.ratio,this.canvas.style.height=n+"px";var i=this.options.lineWidth*this.ratio,o=Math.max(this.options.dotRadius*this.ratio,i/2),r=Math.max(this.options.dotRadius*this.ratio,i/2),s=this.canvas.width-2*o,a=this.canvas.height-2*r,c=Math.min.apply(Math,e),d=Math.max.apply(Math,e),l=void 0!=this.options.minValue?this.options.minValue:Math.min(c,void 0!=this.options.maxMinValue?this.options.maxMinValue:c),h=void 0!=this.options.maxValue?this.options.maxValue:Math.max(d,void 0!=this.options.minMaxValue?this.options.minMaxValue:d),u=o,p=o,f=o,m=function(e,t,n,i,o){var r=t-e;return 0==r?n+i/2:n+i-(this[o]-e)/r*i}.bind(e,l,h,r,a),v=s/(e.length-1),y=function(e,n,i,o,r,s,a){this.context.beginPath(),this.context.fillStyle=o,this.context.arc(s,a,e,0,2*Math.PI,!1),this.context.fill(),t.call(this,n,i,r,s,a)}.bind(this,this.options.dotRadius*this.ratio,o,s+o),g=t.bind(this,o,s+o);if(this.context.save(),this.context.strokeStyle=this.options.lineColor,this.context.fillStyle=this.options.lineColor,this.context.lineWidth=i,this.context.lineCap="round",this.context.lineJoin="round",this.options.fillBelow&&e.length>1){this.context.save(),this.context.beginPath(),this.context.moveTo(f,m(0));for(var x=1;x<e.length;x++)f+=v,u=e[x]==c?f:u,p=e[x]==d?f:p,this.context.lineTo(f,m(x));this.context.lineTo(s+o,a+r+i/2),this.context.lineTo(o,a+r+i/2),this.context.fill(),this.options.fillLighten>0?(this.context.fillStyle="white",this.context.globalAlpha=this.options.fillLighten,this.context.fill(),this.context.globalAlpha=1):this.options.fillLighten<0&&(this.context.fillStyle="black",this.context.globalAlpha=-this.options.fillLighten,this.context.fill()),this.context.restore()}for(f=o,this.context.beginPath(),this.context.moveTo(f,m(0)),x=1;x<e.length;x++)f+=v,this.context.lineTo(f,m(x));this.context.stroke(),this.context.restore(),g(this.options.bottomLine,0,r),g(this.options.topLine,0,a+r+i/2),y(this.options.startColor,this.options.startLine,o+(1==e.length?s/2:0),m(0)),y(this.options.endColor,this.options.endLine,o+(1==e.length?s/2:s),m(e.length-1)),y(this.options.minColor,this.options.minLine,u+(1==e.length?s/2:0),m(e.indexOf(c))),y(this.options.maxColor,this.options.maxLine,p+(1==e.length?s/2:0),m(e.indexOf(d)))},e})?i.call(t,n,t,e):i)||(e.exports=o)},function(e,t,n){"use strict";n.r(t);var i=e=>{return{Snow:"https://media.giphy.com/media/3ohzdUi5U8LBb4GD4s/giphy-downsized.gif",Clear:"https://media.giphy.com/media/z4Qquuhfjc3QI/giphy-downsized.gif",Rain:"https://media.giphy.com/media/3o6wNIK2unphUcCcqQ/giphy-downsized.gif",Clouds:"https://media.giphy.com/media/Pp9W9tuVF5NwQ/giphy.gif",Mist:"https://media.giphy.com/media/yhZr5Wx7CBFbq/giphy-downsized.gif",Drizzle:"https://media.giphy.com/media/fecEkogmgbnfq/giphy-downsized.gif",Fog:"https://media.giphy.com/media/26xBwlGgyeQjxx09G/giphy-downsized.gif"}[e]||"https://media.giphy.com/media/3o6Mb8Ttqwjwe5QDcc/giphy-downsized.gif"};const o=e=>e<10?`0${e}`:e,r=(e=Date.now())=>{const t=new Date(e);return`${o(t.getHours())}:${o(t.getMinutes())}`},s=(e,t,n={})=>{const i=document.createElement(e);for(let e in n)if("city"===e)i.dataset.city=n[e];else{const t=document.createTextNode(n[e]);i.appendChild(t)}return i.classList=t,i},a=e=>Math.round(e-273.15),c=e=>Math.round(1.8*e)+32,d=async(e,t,n="weather")=>{const i=`https://api.openweathermap.org/data/2.5/${n}?q=${e}&appid=22768b31bcbb362152558e4e83db5317`;try{const e=await(e=>fetch(e,{mode:"cors"}))(i);return await t(e)}catch(e){console.error(e)}};var l=async e=>{const t=await e.json();return{name:t.name,country:t.sys.country,sunrise:1e3*t.sys.sunrise,sunset:1e3*t.sys.sunset,high:{c:a(t.main.temp_max),get f(){return Math.round(c(this.c))}},low:{c:a(t.main.temp_min),get f(){return c(this.c)}},current:{c:a(t.main.temp),get f(){return c(this.c)}},condition:t.weather[0].main}};var h=async e=>{const t=await e.json(),{list:n,city:{name:i,country:o,coord:{lat:r,lon:s}}}=t;return{map:`https://api.mapbox.com/styles/v1/mapbox/outdoors-v10/static/${s},${r},10.0,0,0/500x300?access_token=pk.eyJ1IjoiY2RyYWlueHYiLCJhIjoiY2pwenoweDFkMGhhczQ4czcydXY2Y3lhaiJ9.Xlgqyi4nlUNMwZ7RWVIP7Q`,name:i,country:o,temps:n.map(e=>e.main.temp)}};var u=({name:e,country:t,condition:n,sunrise:o,sunset:s,current:{c:a},high:{c:c},low:{c:d}})=>{const l=`\n    <div class="card column" id="card">\n      <div class="columns">\n        <div class="column">\n          <div class="card-header">\n            <h1 class="card-title h1">${e}, ${t}</h1>\n            <div class="card-subtitle text-gray h4">\n              weather data as of ${r()}\n            </div>\n          </div>\n          <div class="card-body columns">\n            <div class="column col-6">\n              <img \n                width="100%"\n                src="${i(n)}" \n              />\n            </div>\n            <div class="column col-6">\n              <h1 class="h1">condition: ${n}</h1>\n              <h1 class="h1">Current: ${a}℃</h1>\n              <h1 class="h1">Low: ${d}℃</h1>\n              <h1 class="h1">High: ${c}℃</h1>\n              <h1 class="h1">Sunrise: ${r(o)}</h1>\n              <h1 class="h1">Sunset: ${r(s)}</h1>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    `;columns.insertAdjacentHTML("beforeend",l)};const p=document.getElementById("columns");var f=({map:e,name:t,country:n,temps:i})=>{const o=`\n  <div class="card column" id="card">\n    <div class="columns">\n      <div class="column">\n        <div class="card-header">\n          <div class="card-title h1">${t}, ${n}</div>\n           <div class="card-subtitle text-gray">\n             Current Weather as of ${r()}\n           </div>\n        </div>\n        <div class="card-body columns">\n          <div class="column col-6">\n            <img \n              width="100%"\n              src="${e}" \n            />\n          </div>\n          <div class="column col-6" id="chart">\n          </div>\n        </div>\n        <div class="card-footer">\n          <button id="refresh-btn" class="btn btn-primary">Refresh</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  `;p.insertAdjacentHTML("beforeend",o)},m=n(0),v=n.n(m);var y=e=>{e.reduce((e,t)=>e+t),e.length;v.a.draw(document.getElementById("chart"),e,{width:500,height:300,maxColor:"red",minColor:"blue",lineWidth:4,fillBelow:!0,minLine:!0,maxLine:!0,averageLine:!0})};const g=document.getElementsByClassName("options"),x=document.getElementById("search-input"),w=document.getElementById("search-btn"),b=document.getElementById("columns"),L=document.getElementById("menu"),M=document.getElementById("weather");document.getElementById("chart");[...g].forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".tab-item.active").classList.remove("active"),e.classList.add("active");const t=document.querySelector(".bg-primary.text-light");O(t.innerText)})});const E=e=>![...document.querySelectorAll("[data-city]")].map(e=>e.innerText).includes((e=>e[0].toUpperCase()+e.substr(1))(e));x.addEventListener("keypress",async e=>{13===e.which&&E(x.value)&&(_(),O())}),w.addEventListener("click",async()=>{x.value&&E(x.value)&&(_(),await O())});const j=()=>{const e=document.getElementById("card");e&&b.removeChild(e)},O=async(e=x.value)=>{let t;(t="current"===document.querySelector(".options.active").id?await d(e,l):await d(e,h,"forecast"))&&(j(),"current"===document.querySelector(".options.active").id?u(t):(f(t),y(t.temps)),M.classList.remove("d-none"),(e=>{if(0===[...document.querySelectorAll("[data-city]")].filter(t=>t.text===e).length){const t=s("a","btn text-light bg-primary btn-sm",{city:e,text:e});t.addEventListener("click",C);const n=s("li","menu-item"),i=s("li","divider");n.appendChild(t),L.appendChild(n),L.appendChild(i)}})(t.name)),x.value=""},_=()=>{const e=document.querySelector(".bg-primary.text-light");e&&(e.classList.remove("bg-primary","text-light"),e.classList.add("bg-secondary","text-dark"))},C=async e=>{let t;_(),e.target.classList.remove("bg-secondary","text-dark"),e.target.classList.add("bg-primary","text-light"),j(),"current"===document.querySelector(".options.active").id?(t=await d(e.target.dataset.city,l),u(t)):(t=await d(e.target.dataset.city,h,"forecast"),f(t),y(t.temps))};(async()=>{const e=await fetch("https://geoip-db.com/json/",{mode:"cors"});await(async e=>{const t=await e.json();t&&await O(t.city)})(e)})()}]);